
import React, { useEffect } from 'react';
import { motion } from 'framer-motion';

interface SplashScreenProps {
  onComplete: () => void;
}

// 蓝色部分完整路径 (包含左侧和右侧两个闭合形状)
const BLUE_PATH = `
M230.643768,548.378784 
C239.287903,553.880127 240.407761,561.897522 239.317490,570.760376 
C239.297302,570.924500 239.315964,571.093384 239.315796,571.260010 
C239.306183,580.588562 239.310120,580.558044 248.329193,581.724121 
C293.005219,587.500061 336.099548,599.301147 377.680328,616.474548 
C402.557404,626.749207 426.162628,639.390625 446.497467,657.422424 
C451.888550,662.203003 456.383636,667.780273 460.837708,673.381226 
C463.447021,676.662415 465.826721,676.903015 469.264862,674.395386 
C499.201202,652.561096 523.861938,625.734741 544.963684,595.417603 
C574.954224,552.330017 596.334106,504.879333 615.862854,456.471771 
C620.096741,445.976868 624.182129,435.421997 628.430908,424.933167 
C629.500244,422.293335 629.548340,419.912872 628.347473,417.271667 
C620.771362,400.608582 614.825684,383.178375 605.458130,367.363251 
C597.392456,353.746124 587.448547,342.094574 571.126282,337.971466 
C567.837891,337.140808 564.519348,337.090942 561.198730,337.122406 
C557.528931,337.157227 555.635986,335.892059 555.782471,331.864471 
C555.982178,326.372772 555.929382,320.861603 555.720520,315.368805 
C555.566895,311.330292 557.536560,310.003387 561.194275,310.184021 
C586.312012,311.424438 606.245728,322.378052 620.805359,342.727203 
C628.956055,354.118988 635.906311,366.289612 641.113708,379.368134 
C641.721558,380.894623 642.076477,382.584320 644.196350,383.436279 
C646.261719,382.033936 647.021057,379.742615 647.880676,377.405457 
C658.195679,349.358521 670.091797,322.095032 687.474854,297.543457 
C714.142212,259.878967 748.196777,231.841431 792.679443,217.875946 
C809.031677,212.742096 825.864441,209.270844 843.125244,208.577606 
C852.086365,208.217697 857.606262,213.882523 857.603760,222.992401 
C857.595154,253.951309 857.788391,284.910248 857.795410,315.869202 
C857.799500,333.989319 857.444092,352.110229 857.533691,370.229370 
C857.607727,385.209106 857.381470,400.185028 857.734924,415.173065 
C858.150635,432.804199 857.425964,450.459351 857.401917,468.104340 
C857.320801,527.580750 857.333069,587.057312 857.304810,646.533813 
C857.299805,656.968018 852.244568,661.982117 841.690369,662.196960 
C804.368469,662.956909 767.191772,665.463196 730.214966,670.838989 
C694.719177,675.999573 659.779663,683.500061 625.581482,694.371582 
C623.704895,694.968140 621.756958,695.340271 619.772156,696.470703 
C620.952820,696.583191 622.133545,696.793762 623.314209,696.794128 
C706.811340,696.819641 790.308472,696.828796 873.805603,696.837341 
C880.729797,696.838013 880.731323,696.831482 880.733215,689.992737 
C880.771606,551.661194 880.809570,413.329712 880.848328,274.998199 
C880.848755,273.664917 880.839172,272.331238 880.865662,270.998383 
C881.021851,263.139374 883.220642,260.951172 891.080200,260.860474 
C894.079773,260.825836 897.079895,260.831818 900.079773,260.835175 
C904.584412,260.840179 906.673340,263.437744 907.229919,267.599457 
C907.361694,268.584808 907.316956,269.595795 907.325562,270.595276 
C908.576477,415.751678 907.832092,560.910950 907.930664,706.068970 
C907.938599,717.770325 901.702026,723.950989 890.037659,723.953796 
C794.207947,723.977051 698.377380,724.167786 602.549866,723.708191 
C591.869568,723.657043 585.065186,725.450317 577.571472,734.425110 
C549.279907,768.308289 501.552185,775.452393 463.389648,753.261719 
C452.694794,747.042969 444.118530,738.463074 436.989075,728.468872 
C434.588562,725.103821 431.802338,723.901245 427.766632,723.904907 
C344.271973,723.980652 260.777191,723.991394 177.282486,723.930542 
C160.291702,723.918152 143.299149,723.664917 126.311363,723.325134 
C117.471222,723.148254 111.855377,717.144287 111.854271,708.333435 
C111.836006,563.335632 111.823334,418.337799 111.821175,273.339966 
C111.821030,263.349304 114.295372,260.887329 124.128532,260.870209 
C124.795189,260.869049 125.461853,260.870697 126.128510,260.869598 
C137.843384,260.849945 138.990402,262.005341 138.992126,273.564148 
C139.010483,397.724182 139.037155,521.884216 139.060516,646.044250 
C139.063644,662.694092 139.060928,679.343933 139.060928,696.432617 
C225.266510,696.432617 311.271881,696.432617 397.277283,696.432617 
C397.345123,696.155212 397.412994,695.877869 397.480865,695.600464 
C387.580841,692.566101 377.777954,689.156311 367.763153,686.565552 
C333.546173,677.714111 298.793976,671.550598 263.704498,667.546082 
C243.367279,665.225037 222.935150,663.566345 202.435593,663.097778 
C194.114594,662.907532 185.792419,662.532898 177.485886,662.004639 
C166.768585,661.323120 161.912170,656.146240 161.916046,645.340088 
C161.942703,571.178589 162.033096,497.017059 162.087860,422.855560 
C162.106552,397.556030 161.935532,372.255402 162.118958,346.957245 
C162.295151,322.658997 161.875320,298.362854 162.407547,274.059814 
C162.790329,256.580963 162.112442,239.078735 161.897903,221.587067 
C161.860931,218.573120 161.861969,215.603653 163.522308,212.878174 
C164.417206,211.409195 165.368149,209.859650 167.016922,209.482559 
C173.085663,208.094589 179.321945,208.087448 185.323624,209.322784 
C189.011612,210.081894 189.044296,214.089569 189.075912,217.256363 
C189.177399,227.421783 189.142670,237.588654 189.141830,247.754974 
C189.131348,373.917847 189.115402,500.080719 189.108978,626.243591 
C189.108505,635.431030 189.181366,635.497620 198.151276,635.619263 
C225.001801,635.983337 251.619019,638.762451 278.214355,642.414429 
C307.263702,646.403320 336.084778,651.370789 364.560730,658.374268 
C383.992371,663.153320 402.998169,669.212280 421.588867,676.604431 
C423.651947,677.424866 425.663971,678.744324 429.113220,678.131592 
C424.410339,672.605652 419.055756,669.012451 413.741241,665.549377 
C381.719391,644.683411 346.423370,631.477600 309.769135,621.501099 
C283.215363,614.273804 256.280640,609.108154 228.906158,606.188354 
C216.631943,604.879211 212.807922,600.710815 212.718948,588.551819 
C212.583710,570.067444 212.679825,551.581299 212.694717,533.095947 
C212.695618,531.966187 212.470306,530.735718 214.601761,529.013794 
C219.214020,535.913147 224.416611,542.379333 230.643768,548.378784 
M523.937134,737.489624 
C539.380249,733.367859 552.206726,725.483582 561.532104,711.983337 
C560.453918,711.075195 559.842346,710.533386 559.203552,710.025940 
C551.482605,703.892517 549.339294,696.340820 552.347046,687.005859 
C554.693481,679.723328 558.705933,673.507263 563.550720,667.690918 
C573.380493,655.889893 585.351685,646.670959 598.364136,638.740906 
C629.612915,619.696960 663.401978,606.673584 698.489990,596.766846 
C722.390198,590.018860 746.662048,585.059143 771.241821,581.551208 
C779.926025,580.311890 779.930481,580.236023 779.931519,571.505005 
C779.939148,508.682373 779.945251,445.859772 779.940979,383.037140 
C779.938721,349.542908 779.984314,316.048340 779.815063,282.554871 
C779.793396,278.261993 781.125610,275.774628 785.135132,274.184723 
C790.236084,272.162048 795.144958,269.654022 800.132263,267.345886 
C806.538635,264.380951 807.050964,264.727417 807.051575,271.816956 
C807.058899,357.301086 807.075195,442.785217 807.088867,528.269348 
C807.092224,548.932312 807.165283,569.595581 807.063477,590.257996 
C807.020386,599.003540 802.388062,604.277832 793.731384,605.396790 
C762.987854,609.370911 732.507385,614.618835 702.677856,623.258301 
C671.208679,632.372620 640.687500,643.726440 612.633484,660.971436 
C603.000549,666.893005 594.046448,673.705444 584.742126,682.270935 
C589.273315,681.479370 591.599365,679.157043 594.424072,677.957397 
C615.942078,668.818542 638.274902,662.187317 660.952881,656.734314 
C687.188416,650.425842 713.749695,645.888306 740.522705,642.438171 
C767.119019,639.010864 793.725098,635.985474 820.572693,635.643494 
C829.703552,635.527161 830.018433,635.191528 830.021118,625.930603 
C830.048279,531.622070 830.157043,437.313416 830.058167,343.005035 
C830.022949,309.370789 831.305542,275.735413 830.003052,242.100830 
C829.883606,239.015564 829.584717,236.993698 825.506348,237.648758 
C801.837708,241.450378 779.796326,249.364914 759.712646,262.632690 
C734.144287,279.523712 714.853577,302.007843 699.551819,328.352783 
C682.712952,357.344177 672.326477,389.062164 659.853210,419.907959 
C659.002380,422.011902 659.650757,423.826630 660.395020,425.682800 
C668.702637,446.400421 676.771729,467.293182 688.921387,486.125885 
C700.088074,503.434998 714.262207,517.085205 736.346863,518.948120 
C739.580322,519.220825 741.005310,520.854797 740.842712,524.222046 
C740.594238,529.369263 740.237366,534.569763 740.705750,539.676208 
C741.155701,544.581665 738.948486,545.499329 734.898926,545.096069 
C722.679077,543.879456 710.979675,541.081299 700.289734,534.672607 
C680.642456,522.893982 668.529053,504.633392 657.802673,485.273804 
C653.079163,476.748596 649.202637,467.754181 644.787109,458.654633 
C642.626770,460.550781 642.106201,462.876434 641.291138,464.951263 
C627.646851,499.684998 612.695679,533.811096 594.453979,566.422974 
C575.596130,600.136536 554.112427,631.923584 526.666748,659.379700 
C509.423798,676.629272 491.090881,692.505554 470.186798,705.252258 
C466.539154,707.476501 462.687408,709.504089 459.672546,712.594482 
C468.231689,728.328979 496.889221,744.387085 523.937134,737.489624 
z`;

// 金色部分完整路径
const GOLD_PATH = `
M523.062561,438.000000 
C523.080627,465.498352 523.368225,492.500183 523.018494,519.493774 
C522.805237,535.951233 520.248657,552.058533 511.011108,566.298279 
C495.825531,589.707031 462.607574,591.728882 444.408112,570.535767 
C435.034180,559.619934 429.858673,546.713745 426.091095,533.152954 
C417.712708,502.996796 409.504028,472.793274 401.311157,442.585968 
C392.029663,408.365051 382.851349,374.116150 373.594177,339.888611 
C372.781311,336.883118 372.209473,333.738831 369.840302,330.784088 
C367.218018,333.440460 366.624603,336.734558 365.792603,339.799988 
C358.248535,367.595917 351.062073,395.492035 343.223816,423.204102 
C335.746857,449.638733 329.603973,476.437653 321.365082,502.658539 
C319.465881,508.702820 317.035461,514.534485 314.304382,520.260925 
C300.866486,548.437195 267.887207,551.402405 246.705170,532.195068 
C234.890793,521.481995 228.965210,507.338287 224.807846,492.455597 
C218.597733,470.224396 215.736847,447.408539 214.614883,424.402313 
C210.464401,339.294800 213.814362,254.129227 212.833069,168.995636 
C212.708557,158.194138 218.336700,153.753769 229.392258,154.570343 
C253.839478,156.376022 278.068756,159.760330 301.988586,165.007767 
C335.542908,172.368744 368.590210,181.528183 400.021698,195.700821 
C431.251984,209.782745 459.998779,227.419525 483.669556,252.766968 
C492.295959,262.004425 498.235382,270.352386 489.246063,282.711487 
C486.153778,286.962952 485.039490,292.653107 482.559875,298.837616 
C479.147217,292.995483 477.062408,287.777954 473.845001,283.210144 
C457.806732,260.440369 436.057068,244.481049 412.106903,231.130386 
C387.511078,217.419861 361.106293,208.299011 334.202148,200.397125 
C306.489655,192.257828 278.150177,187.330002 249.603317,183.410599 
C239.354034,182.003387 239.258301,182.091583 239.253235,192.400696 
C239.220367,259.229706 238.705872,326.064514 239.449478,392.885162 
C239.799240,424.315887 241.792145,455.817810 251.160645,486.256653 
C253.973038,495.394257 257.340027,504.218964 263.794678,511.524963 
C272.476349,521.351624 283.193634,520.329407 289.905334,508.988739 
C292.296448,504.948486 293.971832,500.571655 295.227783,496.081635 
C303.748779,465.618774 312.269684,435.155457 320.625885,404.647156 
C328.540222,375.752075 336.063385,346.748810 344.120422,317.894165 
C349.700623,297.909882 368.684296,290.596954 384.623657,301.816406 
C388.310638,304.411591 390.680359,307.929871 392.355072,312.015869 
C398.123871,326.090393 401.241241,340.959167 405.252380,355.549042 
C421.576935,414.927673 436.880310,474.587280 454.213745,533.687378 
C456.426971,541.233643 459.864441,548.321472 465.740326,553.849060 
C473.428223,561.081299 484.433228,559.338440 489.396576,550.049438 
C493.977142,541.476685 495.657623,532.065063 495.695435,522.531555 
C495.908264,468.869019 496.033783,415.204926 495.849060,361.542572 
C495.782410,342.179810 498.403625,323.361206 504.663330,305.078369 
C514.450256,276.493530 532.419067,253.768631 555.322815,234.539871 
C580.952515,213.022583 610.499207,198.668213 641.469055,186.835434 
C664.234497,178.137360 687.677490,171.905014 711.440735,166.544830 
C738.130432,160.524536 765.000427,156.212280 792.300659,154.495499 
C799.833862,154.021759 806.607971,159.334015 806.966248,166.735565 
C807.272034,173.052612 806.988159,179.397049 807.018127,185.729126 
C807.029968,188.233566 806.030273,189.748825 803.499146,190.416595 
C796.904663,192.156326 790.349915,194.046066 783.774292,195.857697 
C781.137085,196.584244 780.004211,195.405167 780.046814,192.816299 
C780.049500,192.649673 780.068176,192.481583 780.052917,192.316635 
C779.754761,189.096313 782.334900,185.102127 779.462280,182.831543 
C776.828674,180.749878 773.004028,182.817078 769.762268,183.252762 
C717.348755,190.296692 666.284912,202.321854 618.424011,225.553482 
C594.125671,237.347885 571.803345,252.056320 553.881226,272.668976 
C534.107117,295.411743 523.513062,321.811371 523.192383,352.003601 
C522.889709,380.499664 523.086304,409.000977 523.062561,438.000000 
z`;

export const SplashScreen: React.FC<SplashScreenProps> = ({ onComplete }) => {
  // SVG ViewBox is 0 0 1024 832. 
  // With stroke width 15, we ensure it's visible but not overwhelming on large viewBox
  const strokeWidth = 15; 
  
  // Animation configuration
  const drawDuration = 2.2; // Slightly longer for complex path
  const fillDelay = 1.5;    
  const fillDuration = 0.8;
  const textStartDelay = 1.2;

  useEffect(() => {
    const timer = setTimeout(() => {
      onComplete();
    }, 3500); 
    return () => clearTimeout(timer);
  }, [onComplete]);

  const pathVariants = {
    hidden: { 
      pathLength: 0, 
      fillOpacity: 0,
      strokeOpacity: 1
    },
    visible: { 
      pathLength: 1, 
      fillOpacity: 1,
      strokeOpacity: 0, 
      transition: {
        pathLength: { duration: drawDuration, ease: "easeInOut" },
        fillOpacity: { delay: fillDelay, duration: fillDuration, ease: "easeOut" },
        strokeOpacity: { delay: fillDelay + 0.5, duration: 0.5 }
      }
    }
  };

  // Staggered Text Container
  const textContainerVariants = {
    hidden: {},
    visible: {
      transition: {
        staggerChildren: 0.2, 
        delayChildren: textStartDelay
      }
    }
  };

  // Individual Character Animation
  const characterVariants = {
    hidden: { 
      opacity: 0, 
      y: 20, 
      filter: "blur(10px)",
      scale: 1.1
    },
    visible: { 
      opacity: 1, 
      y: 0, 
      filter: "blur(0px)",
      scale: 1,
      transition: {
        duration: 0.8,
        ease: [0.2, 0.65, 0.3, 0.9]
      }
    }
  };

  const subtitleVariants = {
    hidden: { opacity: 0, letterSpacing: "0.2em" },
    visible: { 
      opacity: 1, 
      letterSpacing: "0.5em", 
      transition: { delay: textStartDelay + 0.8, duration: 1.0, ease: "easeOut" }
    }
  };

  return (
    <motion.div 
      className="fixed inset-0 z-[100] bg-slate-50 flex flex-col items-center justify-center"
      exit={{ opacity: 0, transition: { duration: 0.8 } }}
    >
      <div className="w-[35%] min-w-[120px] max-w-[260px] relative mb-10">
        <motion.svg 
          viewBox="0 0 1024 832" 
          xmlns="http://www.w3.org/2000/svg"
          className="w-full h-auto drop-shadow-2xl"
          initial="hidden"
          animate="visible"
          style={{ filter: 'drop-shadow(0 10px 15px rgba(27, 49, 94, 0.15))' }}
        >
          {/* Blue Part - Contains two compound shapes */}
          <motion.path 
            variants={pathVariants}
            stroke="#1B315E"
            strokeWidth={strokeWidth}
            fill="#1B315E"
            strokeLinecap="round"
            strokeLinejoin="round"
            d={BLUE_PATH}
          />

          {/* Gold Part */}
          <motion.path 
            variants={pathVariants}
            stroke="#C5A568"
            strokeWidth={strokeWidth}
            fill="#C5A568"
            strokeLinecap="round"
            strokeLinejoin="round"
            d={GOLD_PATH}
          />
        </motion.svg>
      </div>

      <div className="flex flex-col items-center gap-4">
        {/* Title: Wan Xiang Zhi */}
        <motion.div 
          className="flex gap-4 sm:gap-6 overflow-hidden"
          variants={textContainerVariants}
          initial="hidden"
          animate="visible"
        >
          {['万', '象', '志'].map((char, index) => (
            <motion.span 
              key={index}
              variants={characterVariants}
              className="text-3xl sm:text-4xl font-bold tracking-widest text-transparent bg-clip-text bg-gradient-to-br from-slate-900 via-indigo-900 to-slate-800"
              style={{ 
                fontFamily: "'Songti SC', 'STSong', 'SimSun', 'Times New Roman', serif",
                textShadow: "0px 2px 4px rgba(0,0,0,0.05)"
              }}
            >
              {char}
            </motion.span>
          ))}
        </motion.div>

        {/* Subtitle */}
        <motion.div 
          variants={subtitleVariants}
          initial="hidden"
          animate="visible"
          className="text-[10px] sm:text-xs font-medium text-amber-500 uppercase tracking-widest flex items-center gap-3"
        >
          <span className="h-[1px] w-4 bg-amber-500/50"></span>
          <span>UNIVERSE IN BRIEF</span>
          <span className="h-[1px] w-4 bg-amber-500/50"></span>
        </motion.div>
      </div>
    </motion.div>
  );
};
